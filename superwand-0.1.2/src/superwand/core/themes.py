r"""
                                       ▂▃▃▃▄▄▄▄▃▂▃▃▂▁                                               
                                       ███████▇▃ ▅██▆                                               
                                       ▅██████▇▅▁███▃                                               
                                       ▄██████▇▃▁██▆▁                                               
                                       ▁▇██████▅▃██▅                                                
                                    ▁▃  ▇█████▆ ▁██▅ ▁▃▁                                            
                                    ███▆▇█████▆▁▁▇█▇▅██▇                                            
                                    ▇█████▇▇▇█▇▄▄▇▇▆███▅                                            
                                    ▁▃▇██████████████▆▂                                             
                                      ▁▁▅██▇▆▇▁▆▇▅█▆▁                                               
                                        ▁▆█▂ ▇▁▁ ▁▆▁                                                
                                         ▃█▇▆▆▇▅▅▇█▃                                                
                                      ▁▂▅▇▆▇▇▅▆▅▇▃▆▃▅▃▁                                             
                                  ▁▂▄▆▅▃▁▃▆▂▂▄▄▂▁▁▆ ▁▃▆█▆▅▃▁                                        
                                 ▂███▆▂  ▁▂▄▃▃▂▂▃▁▅  ▁▄█████▄                                       
                                ▁▇███▅▃▁          ▅  ▂▄▇█████▄▁                                     
                                ▄████▅▁  ▃▁       ▅   ▂███████▂                                     
                                ██████▄  ▄▁       ▅  ▂████████▇▁                                    
                               ▅███████▁ ▃▁  ▂    ▆ ▁▆█████████▄                                    
                              ▂████████▆▁▄▁  ▁   ▁▆▁▆███████████▁                                   
                              ▇█████████▅▄▂▁▁▂▁▂▂▄▆▂████████████▆                                   
                             ▄██████████▆▆█▅▆▆▄▃▃▅▇█████▇▅███████▃                                  
                            ▁██████████████▇▇▅▂ ▁▄██████▇▂████████▁                                 
                           ▁▄▅▄▅▇██▇██████▇▄▆▅▂  ▃███████▃▅█████▇▇▅▁                                
                           ▂▃    ▂█▆▇████████▆▃ ▁▅███████▄▁██▅▂▁  ▁▄▁                               
                           ▅▂▂▁▁▁▁▅▁▇██████████▇▆█████████▁▃▆    ▁▂▂▅                               
                           ▃▃▁▁▆▄▆▅▄██████████████████████▁ ▅▃▂▃▃▃▆▅▂                               
                          ▂▅▂▄▇▇▆▃ ▂██████████████████████▁ ▁▃▃▆▃▁▂▅▁                               
                          █▅ ▆▇▆   ▂██████████████████████▁    ▄▁▄▁▁▄                               
                        ▁▃██▂▅▅▃   ▂██████████████████████▁   ▁▅▄▂▇▁▅                               
                      ▂▅▇▅▃▄▃▂     ▂██████████████████████▁   ▁▃▄▅▇▃▄                               
                   ▁▃▆▆▃▁          ▁██████████████████████▁     ▁▅▅▂                                
                 ▂▄▇▅▁             ▁██████████████████████▁                                         
               ▁▂▆▃▁               ▁██████████▇███████████▁                                         
            ▁▁▁▁▁                  ▁▅█████████▂▄██████████▁                                         
          ▁▁▂▁▁                     ▃█████████▁▃▇█████████▁                                         
       ▂▁▂▂▁                        ▃█████████▁ ▄█████████                                          
       ▁▂▁                          ▁▅███████▆  ▃████████▃                                          
                                     ▃██████▇▁   ▇███████▂                                          
                                      ██████▇    ▁██████▇▂                                          
                                      ▂█████▃     ▇█████▁                                           
                                      ▂█████▂     ▄█████▁                                           
                                     ▂██████▄     ▄█████▆▁                                          
                                   ▁▄██████▆▃     ▃██████▇▂                                         
                                  ▁█████▆▂▁        ▁▂▅█████▅▁                                       
                                   ▂▂▂▂▁              ▁▄▅▇▇▇▂                                       
                                                                                                    

                                                                            ||` 
                                                                            ||  
       ('''' '||  ||` '||''|, .|''|, '||''| '\\    //`  '''|.  `||''|,  .|''||  
        `'')  ||  ||   ||  || ||..||  ||      \\/\//   .|''||   ||  ||  ||  ||  
       `...'  `|..'|.  ||..|' `|...  .||.      \/\/    `|..||. .||  ||. `|..||. 
                       ||                                                       
                      .||                                                       
                                  by Julian Henry 

"""

from .np_colorgram import np_extract
import numpy as np
import os
from PIL import Image, ImageDraw, ImageFont


def np_get_prominent_colors(image_path, number=4):
    colors = np_extract(image_path, number)
    rgb_values = np.array([(color.rgb.r, color.rgb.g, color.rgb.b) for color in colors])
    unique_colors, counts = np.unique(rgb_values, axis=0, return_counts=True)
    top_indices = np.argsort(-counts)[:number]
    prominent_colors = unique_colors[top_indices]
    return prominent_colors.tolist()


color_themes = {
    "Spring": [
        (132, 255, 163),
        (255, 212, 77),
        (124, 252, 0),
        (255, 250, 205),
        (255, 182, 193),
        (173, 255, 47),
        (255, 105, 180),
        (240, 255, 240),
    ],
    "Summer": [
        (255, 215, 0),
        (0, 191, 255),
        (46, 139, 87),
        (255, 140, 0),
        (255, 99, 71),
        (255, 182, 193),
        (255, 20, 147),
        (32, 178, 170),
    ],
    "Winter": [
        (173, 216, 230),
        (240, 248, 255),
        (0, 0, 128),
        (135, 206, 250),
        (255, 250, 250),
        (70, 130, 180),
        (176, 224, 230),
        (0, 255, 255),
    ],
    "Fall": [
        (255, 69, 0),
        (218, 165, 32),
        (128, 0, 0),
        (255, 99, 71),
        (160, 82, 45),
        (139, 69, 19),
        (255, 140, 0),
        (205, 133, 63),
    ],
    "Safari": [
        (139, 69, 19),
        (154, 205, 50),
        (205, 133, 63),
        (139, 121, 94),
        (238, 232, 170),
        (240, 230, 140),
        (189, 183, 107),
        (160, 82, 45),
    ],
    "Urban": [
        (149, 145, 140),
        (135, 135, 135),
        (99, 102, 94),
        (64, 66, 59),
        (189, 183, 107),
        (128, 128, 128),
        (169, 169, 169),
        (211, 211, 211),
    ],
    "Neon": [
        (255, 105, 195),
        (70, 130, 195),
        (50, 205, 65),
        (255, 255, 15),
        (255, 20, 147),
        (138, 43, 226),
        (0, 255, 255),
        (255, 165, 0),
    ],
    "Tropical": [
        (255, 165, 0),
        (255, 69, 0),
        (50, 205, 50),
        (30, 144, 255),
        (255, 218, 185),
        (255, 99, 71),
        (0, 255, 255),
        (255, 105, 180),
    ],
    "Arctic": [
        (240, 255, 255),
        (173, 216, 230),
        (135, 206, 250),
        (70, 130, 180),
        (255, 250, 250),
        (224, 255, 255),
        (0, 191, 255),
        (176, 224, 230),
    ],
    "Paixão": [
        (255, 101, 45),
        (255, 69, 109),
        (255, 85, 255),
        (255, 20, 147),
        (255, 105, 180),
        (219, 112, 147),
        (238, 130, 238),
        (255, 182, 193),
    ],
    "Cyberpunk": [
        (0, 255, 255),
        (255, 0, 255),
        (255, 255, 0),
        (0, 0, 255),
        (255, 0, 0),
        (128, 0, 128),
        (0, 128, 128),
        (192, 192, 192),
    ],
    "Midnight": [
        (25, 25, 112),
        (0, 0, 128),
        (0, 0, 139),
        (0, 0, 205),
        (65, 105, 225),
        (70, 130, 180),
        (72, 61, 139),
        (106, 90, 205),
    ],
    "Forest": [
        (34, 139, 34),
        (0, 100, 0),
        (0, 128, 0),
        (46, 139, 87),
        (60, 179, 113),
        (32, 178, 170),
        (107, 142, 35),
        (85, 107, 47),
    ],
    "Sunset": [
        (255, 69, 0),
        (255, 140, 0),
        (255, 165, 0),
        (255, 215, 0),
        (255, 127, 80),
        (255, 99, 71),
        (255, 160, 122),
        (250, 128, 114),
    ],
    "Oceanic": [
        (0, 105, 148),
        (0, 128, 128),
        (0, 206, 209),
        (64, 224, 208),
        (72, 209, 204),
        (127, 255, 212),
        (0, 191, 255),
        (176, 224, 230),
    ],
    "Vaporwave": [
        (255, 113, 206),
        (1, 205, 254),
        (5, 255, 161),
        (185, 103, 255),
        (255, 251, 150),
        (255, 0, 255),
        (0, 255, 255),
        (255, 255, 255),
    ],
    "Retro80s": [
        (255, 0, 128),
        (0, 255, 255),
        (128, 0, 255),
        (255, 255, 0),
        (0, 0, 0),
        (255, 255, 255),
        (255, 128, 0),
        (0, 255, 0),
    ],
    "Volcano": [
        (60, 0, 0),
        (120, 0, 0),
        (180, 0, 0),
        (255, 0, 0),
        (255, 69, 0),
        (255, 140, 0),
        (255, 165, 0),
        (0, 0, 0),
    ],
}
